# ============================================
# Unified Event + PvP-Konfiguration
# ============================================

settings:
  # Gemeinsames Prefix für alle Nachrichten
  prefix: "&6[Event]&r"
  main-world: "world"
  save-player-location: true
  join-phase-duration: 30
  lobby-countdown: 30

  # INVENTORY-GRUPPE (PvP)
  inventory-group: "default"

  # Weltenverwaltung für beide Module
  # Optionen: both, event/lobby (Events) | both, arena (PvP) | none
  world-loading: "both"

  # Command-Einschränkung (Events & PvP)
  command-restriction: "both"

  # Zuschauer-System (PvP)
  spectators:
    enabled: true
    max-spectators: 10
    announce-join: true
    announce-leave: true

  # Match-Einstellungen (PvP)
  match:
    countdown-time: 10
    max-duration: 600  # 10 Minuten
    draw-vote-time: 30  # Zeit für Draw-Abstimmung
    allow-no-wager: true

  # Arena-Regeneration (PvP intern)
  arena:
    create-backups-on-startup: true
    regeneration-delay: 7
    notify-regeneration: true

  # NEU: Arena-Regeneration-Flags (Events – WorldStateManager)
  arena-regeneration:
    backups: true        # Backups vor Regeneration erstellen
    backup-async: true   # Backup asynchron ausführen (empfohlen)

  # Auto-Event System (Events)
  auto-events:
    enabled: false
    interval-min: 1800
    interval-max: 3600
    random-selection: true
    check-online-players: true

  # Sicherheitsüberprüfungen (PvP)
  checks:
    inventory-space: true
    minimum-bet-items: 1
    minimum-bet-money: 10
    max-bet-money: 100000  # 0 = unlimited

# Hinweis: Nachrichten liegen in resources/messages.yml und werden ins Pluginverzeichnis kopiert.

# Berechtigungen für spezielle Features
permissions:
  spectate-all: "pvpwager.spectate.all"
  bypass-bet-limit: "pvpwager.bypass.betlimit"
  no-wager: "pvpwager.nowager"

# ============================================
# Events – Definitionen (alle disabled außer PvPArena)
# ============================================

events:
  # AKTIVES EVENT: PvPArena (Solo)
  pvparena:
    enabled: true
    command: "pvparena"
    display-name: "&c&lPvP Arena"
    description: "&7Kämpfe bis zum letzten Mann!"

    min-players: 2
    max-players: 16
    countdown-time: 45

    worlds:
      lobby-world: "EventLobby"
      lobby-spawn:
        x: 0.5
        y: 65
        z: 0.5
        yaw: 0
        pitch: 0
      event-world: "PvPArena"
      clone-source-event-world: "PvPArena_original"
      regenerate-event-world: true
      regenerate-lobby-world: false

    spawn-settings:
      # Einfacher Start: Alle Spieler an einem Punkt (Beispiel)
      spawn-type: "SINGLE_POINT"
      single-spawn:
        x: 0.5
        y: 65
        z: 0.5
        yaw: 0
        pitch: 0

    equipment-group: "pvp_starter"
    give-equipment-in-lobby: false

    mechanics:
      game-mode: "SOLO"
      pvp-enabled: true
      hunger-enabled: true
      win-condition:
        type: "LAST_ALIVE"
      death-handling:
        eliminate-on-death: true
        spectator-mode: true
        allow-rejoin: false

    rewards:
      winner:
        items:
          enabled: false
          items:
            - "DIAMOND 10"
        commands:
          enabled: true
          commands:
            - "say Glückwunsch {player}!"

      team-winner:
        items:
          enabled: false
          items: []
        commands:
          enabled: false
          commands: []

      participation:
        items:
          enabled: false
          items: []
        commands:
          enabled: false
          commands: []

    messages:
      start: "&c&lPVP ARENA STARTET!"
      winner: "&6&l{player} IST DER CHAMPION!"
      eliminated: "&7{player} wurde eliminiert!"
      objective: "&7Ziel: &cÜberlebe als Letzter!"

  # BEISPIEL-Event (deaktiviert)
  team2pvp:
    enabled: false
    command: "team2pvp"
    display-name: "&c&l2 Team PvP (Beispiel)"
    description: "&7Beispiel – deaktiviert"
    min-players: 4
    max-players: 16
    countdown-time: 45
    worlds:
      lobby-world: "Team2Lobby"
      event-world: "Team2Arena"
    spawn-settings:
      spawn-type: "TEAM_SPAWNS"
    equipment-group: "team_pvp_starter"
    mechanics:
      game-mode: "TEAM_2"